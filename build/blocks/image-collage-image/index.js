(()=>{var e,i={175:(e,i,l)=>{e.exports=l(694)()},402:(e,i,l)=>{"use strict";const t=window.wp.blocks,a=window.wp.primitives,r=window.ReactJSXRuntime,m=(0,r.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,r.jsx)(a.Path,{d:"m3 5c0-1.10457.89543-2 2-2h13.5c1.1046 0 2 .89543 2 2v13.5c0 1.1046-.8954 2-2 2h-13.5c-1.10457 0-2-.8954-2-2zm2-.5h6v6.5h-6.5v-6c0-.27614.22386-.5.5-.5zm-.5 8v6c0 .2761.22386.5.5.5h6v-6.5zm8 0v6.5h6c.2761 0 .5-.2239.5-.5v-6zm0-8v6.5h6.5v-6c0-.27614-.2239-.5-.5-.5z",fillRule:"evenodd",clipRule:"evenodd"})}),o=window.wp.i18n,n=window.wp.element,s=window.wp.blockEditor,c=window.wp.components,u=window.wp.data;var h=l(175),d=l.n(h);const g=["large","medium","thumbnail"],b="large",p={display:"flex",gap:"16px",flexDirection:"column"},_={backgroundColor:"#fef8ee",borderLeft:"4px solid #f0b849",padding:"8px 12px",color:"#1e1e1e"},y=({imageUrl:e,setAttributes:i,imageSize:l=b,minWidth:t=0,minHeight:a=0,attributes:m={},force:h=!1})=>{const[d,y]=(0,n.useState)(m?.imageId||null),[f,v]=(0,n.useState)(!1),[x,k]=(0,n.useState)(null),w=(0,n.useMemo)(()=>({hasMinimumDimensions:!m?.imageWidth||!m?.imageHeight||(!t||m.imageWidth>=t)&&(!a||m.imageHeight>=a),recommendationMessage:t&&a?`${t}px × ${a}px`:t?`${t}px wide`:a?`${a}px high`:""}),[m?.imageWidth,m?.imageHeight,t,a]),{hasMinimumDimensions:S,recommendationMessage:j}=w,z=(0,n.useCallback)(e=>{try{if(!e||!e.id)return null;if(l){let i=null;if(e.media_details?.sizes?.[l])return i=e.media_details.sizes[l],{url:i.source_url,width:i.width,height:i.height};if(e.sizes?.[l])return i=e.sizes[l],{url:i.url,width:i.width,height:i.height}}for(const i of g){let l=null;if(e.media_details?.sizes?.[i])return l=e.media_details.sizes[i],{url:l.source_url,width:l.width,height:l.height};if(e.sizes?.[i])return l=e.sizes[i],{url:l.url,width:l.width,height:l.height}}if(e.url||e.source_url){const i=e.url||e.source_url,l=e.width||e.media_details?.width,t=e.height||e.media_details?.height;return l&&t?{url:i,width:l,height:t}:{url:i,width:null,height:null}}return null}catch(e){return console.error("Error getting image details:",e),k((0,o.__)("Failed to load image details","multi-block-mayhem")),null}},[l]),I=(0,u.useSelect)(e=>{if(!d)return null;try{const i=e("core").getMedia(d);if(!i)return null;const l=z(i);return l?{...l,id:i.id}:null}catch(e){return console.error("Error fetching media:",e),k((0,o.__)("Failed to load image from media library","multi-block-mayhem")),null}},[d,z]);(0,n.useEffect)(()=>{I&&I.url&&(i({imageUrl:I.url,imageId:I.id,imageWidth:I.width,imageHeight:I.height}),k(null))},[I,i]);const C=(0,n.useCallback)(e=>{v(!0),k(null);try{if(!e||!e.id)return y(null),void i({imageUrl:"",imageId:null,imageWidth:null,imageHeight:null});const l=z(e);if(!l||!l.url)return void k((0,o.__)("Invalid image selected","multi-block-mayhem"));const r=!l.width||!l.height||(!t||l.width>=t)&&(!a||l.height>=a);if(h&&l.width&&l.height&&!r)return void k((0,o.__)("Selected image does not meet minimum size requirements","multi-block-mayhem"));y(e.id),i({imageUrl:l.url,imageId:e.id,imageWidth:l.width,imageHeight:l.height})}catch(e){console.error("Error selecting image:",e),k((0,o.__)("Failed to select image","multi-block-mayhem"))}finally{v(!1)}},[z,t,a,h,i]),P=(0,n.useCallback)(()=>{try{y(null),k(null),i({imageUrl:"",imageId:null,imageWidth:null,imageHeight:null})}catch(e){console.error("Error removing image:",e),k((0,o.__)("Failed to remove image","multi-block-mayhem"))}},[i]),O=Boolean(e&&m?.imageWidth&&!S),R=Boolean((t||a)&&!e);(0,n.useEffect)(()=>{m?.imageId&&!d&&y(m.imageId)},[m?.imageId,d]),(0,n.useEffect)(()=>()=>{k(null),v(!1)},[]);const T=(0,n.useMemo)(()=>(0,r.jsx)(s.MediaUpload,{onSelect:C,allowedTypes:["image"],value:d,render:({open:i})=>(0,r.jsx)("div",{className:"mbm-image-controls",children:(0,r.jsxs)(c.ButtonGroup,{children:[(0,r.jsxs)(c.Button,{onClick:i,variant:"primary",disabled:f,"aria-label":e?(0,o.__)("Replace current image","multi-block-mayhem"):(0,o.__)("Select an image","multi-block-mayhem"),children:[f&&(0,r.jsx)(c.Spinner,{}),e?(0,o.__)("Replace Image","multi-block-mayhem"):(0,o.__)("Select Image","multi-block-mayhem")]}),e&&(0,r.jsx)(c.Button,{onClick:P,variant:"secondary",style:{marginLeft:"8px"},"aria-label":(0,o.__)("Remove current image","multi-block-mayhem"),children:(0,o.__)("Remove","multi-block-mayhem")})]})})}),[e,d,C,P,f]);return(0,r.jsxs)("div",{className:"mbm-image-uploader",style:p,role:"region","aria-label":(0,o.__)("Image uploader controls","multi-block-mayhem"),children:[x&&(0,r.jsx)(c.Notice,{status:"error",isDismissible:!0,onRemove:()=>k(null),className:"mbm-image-error",children:x}),O&&(0,r.jsxs)(c.Notice,{status:"warning",isDismissible:!1,className:"mbm-image-warning",role:"alert",children:[(0,o.__)("Current image size","multi-block-mayhem")," (",m.imageWidth,"px × ",m.imageHeight,"px) ",(0,o.__)("is smaller than recommended","multi-block-mayhem")," ",j]}),R&&(0,r.jsxs)("div",{className:"mbm-size-notice",style:_,role:"note","aria-label":(0,o.__)("Image size requirements","multi-block-mayhem"),children:[h?(0,o.__)("Required","multi-block-mayhem"):(0,o.__)("Recommended","multi-block-mayhem")," ",(0,o.__)("image size","multi-block-mayhem"),": ",j]}),T]})};y.propTypes={imageUrl:d().string,setAttributes:d().func.isRequired,imageSize:d().string,minWidth:d().number,minHeight:d().number,attributes:d().shape({imageId:d().number,imageWidth:d().number,imageHeight:d().number}),force:d().bool},y.defaultProps={imageUrl:"",imageSize:b,minWidth:0,minHeight:0,attributes:{},force:!1};const f=JSON.parse('{"UU":"multi-block-mayhem/image-collage-image"}');(0,t.registerBlockType)(f.UU,{icon:m,edit:function({attributes:e,setAttributes:i,context:l,style:t}){const[a,m]=(0,n.useState)(e.focalPoint||{x:.5,y:.5}),{imageUrl:u,columnSpan:h,columns:d,zoom:g,aspectRatio:b}=e,p=u?"multi-block-mayhem-editor":"multi-block-mayhem-placeholder",_=(0,s.useBlockProps)({className:p,style:{...t,"--mb-mayhem-image-collage-col-span":h,"--mb-mayhem-image-collage-aspect-ratio":b}});i({columns:l["multi-block-mayhem/image-collage-columns"],aspectRatio:l["multi-block-mayhem/image-collage-aspect-ratio"]});const f=l["multi-block-mayhem/image-collage-image-size"]||"large",v=(0,n.useCallback)(e=>{m(e),i({focalPoint:e})},[i]),x={backgroundImage:`url(${u})`,backgroundPosition:`${100*a.x}% ${100*a.y}%`,backgroundSize:"cover",transform:`scale(1.${String(g).padStart(2,"0")})`},k=(0,n.useMemo)(()=>f,[f]),w=(0,n.useMemo)(()=>({minWidth:1===h?600:1024,minHeight:1===h?450:768}),[h]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.InspectorControls,{children:[(0,r.jsxs)(c.__experimentalToolsPanel,{label:(0,o.__)("Image Settings","multi-block-mayhem"),resetAll:()=>i({columnSpan:1,imageUrl:null,zoom:0}),children:[(0,r.jsx)(c.__experimentalToolsPanelItem,{hasValue:()=>1!==h,label:(0,o.__)("Column Span","multi-block-mayhem"),onDeselect:()=>i({columnSpan:1}),isShownByDefault:!0,children:(0,r.jsx)(c.RangeControl,{label:(0,o.__)("Column Span","multi-block-mayhem"),min:1,max:d,value:h,onChange:e=>i({columnSpan:e})})}),u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.__experimentalToolsPanelItem,{hasValue:()=>.5!==a.x||.5!==a.y,label:(0,o.__)("Focal Point","multi-block-mayhem"),onDeselect:()=>{const e={x:.5,y:.5};m(e),i({focalPoint:e})},isShownByDefault:!0,children:(0,r.jsx)(c.FocalPointPicker,{url:u,value:a,onDragStart:m,onDrag:v,onChange:v})}),(0,r.jsx)(c.__experimentalToolsPanelItem,{hasValue:()=>!!g,label:(0,o.__)("Image Zoom","multi-block-mayhem"),onDeselect:()=>i({zoom:0}),isShownByDefault:!0,children:(0,r.jsx)(c.RangeControl,{label:(0,o.__)("Image Zoom","multi-block-mayhem"),min:0,max:50,value:g,onChange:e=>i({zoom:e})})})]})]}),(0,r.jsx)(y,{imageUrl:u,setAttributes:i,imageSize:k,minWidth:w.minWidth,minHeight:w.minHeight,attributes:e})]}),u?(0,r.jsx)("div",{..._,style:{..._.style},children:(0,r.jsx)("div",{style:{...x}})}):(0,r.jsx)("div",{..._,children:"Add Image"})]})}})},694:(e,i,l)=>{"use strict";var t=l(925);function a(){}function r(){}r.resetWarningCache=a,e.exports=function(){function e(e,i,l,a,r,m){if(m!==t){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function i(){return e}e.isRequired=e;var l={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:i,element:e,elementType:e,instanceOf:i,node:e,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:a};return l.PropTypes=l,l}},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},l={};function t(e){var a=l[e];if(void 0!==a)return a.exports;var r=l[e]={exports:{}};return i[e](r,r.exports,t),r.exports}t.m=i,e=[],t.O=(i,l,a,r)=>{if(!l){var m=1/0;for(c=0;c<e.length;c++){for(var[l,a,r]=e[c],o=!0,n=0;n<l.length;n++)(!1&r||m>=r)&&Object.keys(t.O).every(e=>t.O[e](l[n]))?l.splice(n--,1):(o=!1,r<m&&(m=r));if(o){e.splice(c--,1);var s=a();void 0!==s&&(i=s)}}return i}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[l,a,r]},t.n=e=>{var i=e&&e.__esModule?()=>e.default:()=>e;return t.d(i,{a:i}),i},t.d=(e,i)=>{for(var l in i)t.o(i,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:i[l]})},t.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),(()=>{var e={914:0,206:0};t.O.j=i=>0===e[i];var i=(i,l)=>{var a,r,[m,o,n]=l,s=0;if(m.some(i=>0!==e[i])){for(a in o)t.o(o,a)&&(t.m[a]=o[a]);if(n)var c=n(t)}for(i&&i(l);s<m.length;s++)r=m[s],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(c)},l=globalThis.webpackChunkmulti_block_mayhem=globalThis.webpackChunkmulti_block_mayhem||[];l.forEach(i.bind(null,0)),l.push=i.bind(null,l.push.bind(l))})();var a=t.O(void 0,[206],()=>t(402));a=t.O(a)})();