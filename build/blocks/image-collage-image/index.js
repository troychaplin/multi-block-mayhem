(()=>{var e,i={175:(e,i,t)=>{e.exports=t(694)()},402:(e,i,t)=>{"use strict";const a=window.wp.blocks,l=window.wp.primitives,n=window.ReactJSXRuntime,o=(0,n.jsx)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(l.Path,{d:"m3 5c0-1.10457.89543-2 2-2h13.5c1.1046 0 2 .89543 2 2v13.5c0 1.1046-.8954 2-2 2h-13.5c-1.10457 0-2-.8954-2-2zm2-.5h6v6.5h-6.5v-6c0-.27614.22386-.5.5-.5zm-.5 8v6c0 .2761.22386.5.5.5h6v-6.5zm8 0v6.5h6c.2761 0 .5-.2239.5-.5v-6zm0-8v6.5h6.5v-6c0-.27614-.2239-.5-.5-.5z",fillRule:"evenodd",clipRule:"evenodd"})}),r=window.wp.i18n,s=window.wp.element,m=window.wp.blockEditor,c=window.wp.components,u=window.wp.data;var d=t(175),h=t.n(d);const g=({imageUrl:e,setAttributes:i,imageSize:t,minWidth:a,minHeight:l,attributes:o,force:r})=>{const[d,h]=(0,s.useState)(o?.imageId||null),g=(0,s.useMemo)(()=>["large","medium","thumbnail"],[]),p=(0,s.useMemo)(()=>!o?.imageWidth||(!a||o.imageWidth>=a)&&(!l||o.imageHeight>=l),[o?.imageWidth,o?.imageHeight,a,l]),b=(0,s.useMemo)(()=>a&&l?`width of ${a}px and height of ${l}px`:a?`width of ${a}px`:l?`height of ${l}px`:"",[a,l]),f=(0,s.useCallback)(e=>{if(!e)return null;if(t&&e.media_details?.sizes?.[t])return{url:e.media_details.sizes[t].source_url,width:e.media_details.sizes[t].width,height:e.media_details.sizes[t].height};for(const i of g)if(e.media_details?.sizes?.[i])return{url:e.media_details.sizes[i].source_url,width:e.media_details.sizes[i].width,height:e.media_details.sizes[i].height};return{url:e.source_url,width:e.media_details?.width,height:e.media_details?.height}},[t,g]),x=(0,u.useSelect)(e=>{if(!d)return null;const i=e("core").getMedia(d);if(!i)return null;const t=f(i);return t?{...t,id:i.id}:null},[d,f]);(0,s.useEffect)(()=>{x&&(e&&x.url!==e||i({imageUrl:x.url,imageId:x.id,imageWidth:x.width,imageHeight:x.height}))},[x,i,e,t]);const y=(0,s.useCallback)(e=>{if(!e||!e.id)return h(null),void i({imageUrl:"",imageId:null,imageWidth:null,imageHeight:null});const t=f(e);if(!t)return;const n=(!a||t.width>=a)&&(!l||t.height>=l);r&&!n||(h(e.id),i({imageUrl:t.url,imageId:e.id,imageWidth:t.width,imageHeight:t.height}))},[f,a,l,r,i]),v=(0,s.useCallback)(()=>{h(null),i({imageUrl:"",imageId:null,imageWidth:null,imageHeight:null})},[i]),w=Boolean(e&&o?.imageWidth&&!p);(0,s.useEffect)(()=>{e&&o?.imageId&&h(o.imageId)},[e,o?.imageId]);const _=(0,s.useMemo)(()=>(0,n.jsx)(m.MediaUpload,{onSelect:y,allowedTypes:["image"],value:d,render:({open:i})=>(0,n.jsxs)(c.ButtonGroup,{className:"mbm-image-controls",children:[(0,n.jsx)(c.Button,{onClick:i,variant:"primary",children:e?"Replace Image":"Select Image"}),e&&(0,n.jsx)(c.Button,{onClick:v,variant:"secondary",style:{marginLeft:"8px"},children:"Remove"})]})}),[e,d,y,v]);return(0,n.jsxs)("div",{className:"mbm-image-uploader",style:{display:"flex",gap:"16px",flexDirection:"column"},children:[w&&(0,n.jsxs)(c.Notice,{status:"warning",isDismissible:!1,className:"mbm-image-warning",children:["Current image size (",o.imageWidth,"px ×"," ",o.imageHeight,"px) is smaller than recommended"," ",b]}),(a||l)&&!e&&(0,n.jsxs)("div",{className:"mbm-size-notice",style:{backgroundColor:"#fef8ee",borderLeft:"4px solid #f0b849",padding:"8px 12px",color:"#1e1e1e"},children:[r?"Required":"Recommended"," image size:"," ",a&&`${a}px wide`,a&&l&&" × ",l&&`${l}px high`]}),_]})};g.propTypes={imageUrl:h().string,setAttributes:h().func.isRequired,imageSize:h().string,minWidth:h().number,minHeight:h().number,attributes:h().shape({imageId:h().number,imageWidth:h().number,imageHeight:h().number}),force:h().bool},g.defaultProps={imageUrl:"",imageSize:"large",minWidth:0,minHeight:0,attributes:{},force:!1};const p=JSON.parse('{"UU":"multi-block-mayhem/image-collage-image"}');(0,a.registerBlockType)(p.UU,{icon:o,edit:function({attributes:e,setAttributes:i,context:t,style:a}){const[l,o]=(0,s.useState)(e.focalPoint||{x:.5,y:.5}),{imageUrl:u,columnSpan:d,columns:h,zoom:p,aspectRatio:b}=e,f=u?"multi-block-mayhem-editor":"multi-block-mayhem-placeholder",x=(0,m.useBlockProps)({className:f,style:{...a,"--mb-mayhem-image-collage-col-span":d,"--mb-mayhem-image-collage-aspect-ratio":b}});i({columns:t["multi-block-mayhem/image-collage-columns"],aspectRatio:t["multi-block-mayhem/image-collage-aspect-ratio"]});const y=(0,s.useCallback)(e=>{o(e),i({focalPoint:e})},[i]),v={backgroundImage:`url(${u})`,backgroundPosition:`${100*l.x}% ${100*l.y}%`,backgroundSize:"cover",transform:`scale(1.${String(p).padStart(2,"0")})`},w=(0,s.useMemo)(()=>1===d?"medium":"large",[d]),_=(0,s.useMemo)(()=>({minWidth:1===d?600:1024,minHeight:1===d?450:768}),[d]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(m.InspectorControls,{children:[(0,n.jsxs)(c.__experimentalToolsPanel,{label:(0,r.__)("Image Settings","multi-block-mayhem"),resetAll:()=>i({columnSpan:1,imageUrl:null,zoom:0}),children:[(0,n.jsx)(c.__experimentalToolsPanelItem,{hasValue:()=>1!==d,label:(0,r.__)("Column Span","multi-block-mayhem"),onDeselect:()=>i({columnSpan:1}),isShownByDefault:!0,children:(0,n.jsx)(c.RangeControl,{label:(0,r.__)("Column Span","multi-block-mayhem"),min:1,max:h,value:d,onChange:e=>i({columnSpan:e})})}),u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.__experimentalToolsPanelItem,{hasValue:()=>.5!==l.x||.5!==l.y,label:(0,r.__)("Focal Point","multi-block-mayhem"),onDeselect:()=>{const e={x:.5,y:.5};o(e),i({focalPoint:e})},isShownByDefault:!0,children:(0,n.jsx)(c.FocalPointPicker,{url:u,value:l,onDragStart:o,onDrag:y,onChange:y})}),(0,n.jsx)(c.__experimentalToolsPanelItem,{hasValue:()=>!!p,label:(0,r.__)("Image Zoom","multi-block-mayhem"),onDeselect:()=>i({zoom:0}),isShownByDefault:!0,children:(0,n.jsx)(c.RangeControl,{label:(0,r.__)("Image Zoom","multi-block-mayhem"),min:0,max:50,value:p,onChange:e=>i({zoom:e})})})]})]}),(0,n.jsx)(g,{imageUrl:u,setAttributes:i,imageSize:w,minWidth:_.minWidth,minHeight:_.minHeight,attributes:e})]}),u?(0,n.jsx)("div",{...x,style:{...x.style},children:(0,n.jsx)("div",{style:{...v}})}):(0,n.jsx)("div",{...x,children:"Add Image"})]})}})},694:(e,i,t)=>{"use strict";var a=t(925);function l(){}function n(){}n.resetWarningCache=l,e.exports=function(){function e(e,i,t,l,n,o){if(o!==a){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function i(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:i,element:e,elementType:e,instanceOf:i,node:e,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:l};return t.PropTypes=t,t}},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function a(e){var l=t[e];if(void 0!==l)return l.exports;var n=t[e]={exports:{}};return i[e](n,n.exports,a),n.exports}a.m=i,e=[],a.O=(i,t,l,n)=>{if(!t){var o=1/0;for(c=0;c<e.length;c++){for(var[t,l,n]=e[c],r=!0,s=0;s<t.length;s++)(!1&n||o>=n)&&Object.keys(a.O).every(e=>a.O[e](t[s]))?t.splice(s--,1):(r=!1,n<o&&(o=n));if(r){e.splice(c--,1);var m=l();void 0!==m&&(i=m)}}return i}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[t,l,n]},a.n=e=>{var i=e&&e.__esModule?()=>e.default:()=>e;return a.d(i,{a:i}),i},a.d=(e,i)=>{for(var t in i)a.o(i,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:i[t]})},a.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),(()=>{var e={914:0,206:0};a.O.j=i=>0===e[i];var i=(i,t)=>{var l,n,[o,r,s]=t,m=0;if(o.some(i=>0!==e[i])){for(l in r)a.o(r,l)&&(a.m[l]=r[l]);if(s)var c=s(a)}for(i&&i(t);m<o.length;m++)n=o[m],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},t=globalThis.webpackChunkmulti_block_mayhem=globalThis.webpackChunkmulti_block_mayhem||[];t.forEach(i.bind(null,0)),t.push=i.bind(null,t.push.bind(t))})();var l=a.O(void 0,[206],()=>a(402));l=a.O(l)})();