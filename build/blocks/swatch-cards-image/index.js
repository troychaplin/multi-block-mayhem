(()=>{var e,i={175:(e,i,t)=>{e.exports=t(694)()},694:(e,i,t)=>{"use strict";var a=t(925);function l(){}function r(){}r.resetWarningCache=l,e.exports=function(){function e(e,i,t,l,r,o){if(o!==a){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}function i(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:i,element:e,elementType:e,instanceOf:i,node:e,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:l};return t.PropTypes=t,t}},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},979:(e,i,t)=>{"use strict";const a=window.wp.blocks,l=window.wp.primitives,r=window.ReactJSXRuntime,o=(0,r.jsx)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,r.jsx)(l.Path,{d:"m3 5c0-1.10457.89543-2 2-2h13.5c1.1046 0 2 .89543 2 2v13.5c0 1.1046-.8954 2-2 2h-13.5c-1.10457 0-2-.8954-2-2zm2-.5h6v6.5h-6.5v-6c0-.27614.22386-.5.5-.5zm-.5 8v6c0 .2761.22386.5.5.5h6v-6.5zm8 0v6.5h6c.2761 0 .5-.2239.5-.5v-6zm0-8v6.5h6.5v-6c0-.27614-.2239-.5-.5-.5z",fillRule:"evenodd",clipRule:"evenodd"})}),m=window.wp.i18n,n=window.wp.element,s=window.wp.blockEditor,u=window.wp.components,c=window.wp.data;var h=t(175),d=t.n(h);const g=["large","medium","thumbnail"],p="large",b={display:"flex",gap:"16px",flexDirection:"column"},y={backgroundColor:"#fef8ee",borderLeft:"4px solid #f0b849",padding:"8px 12px",color:"#1e1e1e"},_=({imageUrl:e,setAttributes:i,imageSize:t=p,minWidth:a=0,minHeight:l=0,attributes:o={},force:h=!1})=>{const[d,_]=(0,n.useState)(o?.imageId||null),[f,v]=(0,n.useState)(!1),[w,k]=(0,n.useState)(null),x=(0,n.useMemo)(()=>({hasMinimumDimensions:!o?.imageWidth||!o?.imageHeight||(!a||o.imageWidth>=a)&&(!l||o.imageHeight>=l),recommendationMessage:a&&l?`${a}px × ${l}px`:a?`${a}px wide`:l?`${l}px high`:""}),[o?.imageWidth,o?.imageHeight,a,l]),{hasMinimumDimensions:R,recommendationMessage:j}=x,S=(0,n.useCallback)(e=>{try{if(!e||!e.id)return null;if(t){let i=null;if(e.media_details?.sizes?.[t])return i=e.media_details.sizes[t],{url:i.source_url,width:i.width,height:i.height};if(e.sizes?.[t])return i=e.sizes[t],{url:i.url,width:i.width,height:i.height}}for(const i of g){let t=null;if(e.media_details?.sizes?.[i])return t=e.media_details.sizes[i],{url:t.source_url,width:t.width,height:t.height};if(e.sizes?.[i])return t=e.sizes[i],{url:t.url,width:t.width,height:t.height}}if(e.url||e.source_url){const i=e.url||e.source_url,t=e.width||e.media_details?.width,a=e.height||e.media_details?.height;return t&&a?{url:i,width:t,height:a}:{url:i,width:null,height:null}}return null}catch(e){return console.error("Error getting image details:",e),k((0,m.__)("Failed to load image details","multi-block-mayhem")),null}},[t]),z=(0,c.useSelect)(e=>{if(!d)return null;try{const i=e("core").getMedia(d);if(!i)return null;const t=S(i);return t?{...t,id:i.id}:null}catch(e){return console.error("Error fetching media:",e),k((0,m.__)("Failed to load image from media library","multi-block-mayhem")),null}},[d,S]);(0,n.useEffect)(()=>{z&&z.url&&(i({imageUrl:z.url,imageId:z.id,imageWidth:z.width,imageHeight:z.height,imageResolution:o.imageResolution||t}),k(null))},[z,i,o.imageResolution,t]);const I=(0,n.useCallback)(e=>{v(!0),k(null);try{if(!e||!e.id)return _(null),void i({imageUrl:"",imageId:null,imageWidth:null,imageHeight:null,imageResolution:o.imageResolution||t});const r=S(e);if(!r||!r.url)return void k((0,m.__)("Invalid image selected","multi-block-mayhem"));const n=!r.width||!r.height||(!a||r.width>=a)&&(!l||r.height>=l);if(h&&r.width&&r.height&&!n)return void k((0,m.__)("Selected image does not meet minimum size requirements","multi-block-mayhem"));_(e.id),i({imageUrl:r.url,imageId:e.id,imageWidth:r.width,imageHeight:r.height,imageResolution:o.imageResolution||t})}catch(e){console.error("Error selecting image:",e),k((0,m.__)("Failed to select image","multi-block-mayhem"))}finally{v(!1)}},[S,a,l,h,i]),C=(0,n.useCallback)(()=>{try{_(null),k(null),i({imageUrl:"",imageId:null,imageWidth:null,imageHeight:null,imageResolution:o.imageResolution||t})}catch(e){console.error("Error removing image:",e),k((0,m.__)("Failed to remove image","multi-block-mayhem"))}},[i,o.imageResolution,t]),O=Boolean(e&&o?.imageWidth&&!R),P=Boolean((a||l)&&!e);(0,n.useEffect)(()=>{o?.imageId&&!d&&_(o.imageId)},[o?.imageId,d]),(0,n.useEffect)(()=>()=>{k(null),v(!1)},[]);const W=(0,n.useMemo)(()=>(0,r.jsx)(s.MediaUpload,{onSelect:I,allowedTypes:["image"],value:d,render:({open:i})=>(0,r.jsx)("div",{className:"mbm-image-controls",children:(0,r.jsxs)(u.ButtonGroup,{children:[(0,r.jsxs)(u.Button,{onClick:i,variant:"primary",disabled:f,"aria-label":e?(0,m.__)("Replace current image","multi-block-mayhem"):(0,m.__)("Select an image","multi-block-mayhem"),children:[f&&(0,r.jsx)(u.Spinner,{}),e?(0,m.__)("Replace Image","multi-block-mayhem"):(0,m.__)("Select Image","multi-block-mayhem")]}),e&&(0,r.jsx)(u.Button,{onClick:C,variant:"secondary",style:{marginLeft:"8px"},"aria-label":(0,m.__)("Remove current image","multi-block-mayhem"),children:(0,m.__)("Remove","multi-block-mayhem")})]})})}),[e,d,I,C,f]);return(0,r.jsxs)("div",{className:"mbm-image-uploader",style:b,role:"region","aria-label":(0,m.__)("Image uploader controls","multi-block-mayhem"),children:[w&&(0,r.jsx)(u.Notice,{status:"error",isDismissible:!0,onRemove:()=>k(null),className:"mbm-image-error",children:w}),O&&(0,r.jsxs)(u.Notice,{status:"warning",isDismissible:!1,className:"mbm-image-warning",role:"alert",children:[(0,m.__)("Current image size","multi-block-mayhem")," (",o.imageWidth,"px × ",o.imageHeight,"px) ",(0,m.__)("is smaller than recommended","multi-block-mayhem")," ",j]}),P&&(0,r.jsxs)("div",{className:"mbm-size-notice",style:y,role:"note","aria-label":(0,m.__)("Image size requirements","multi-block-mayhem"),children:[h?(0,m.__)("Required","multi-block-mayhem"):(0,m.__)("Recommended","multi-block-mayhem")," ",(0,m.__)("image size","multi-block-mayhem"),": ",j]}),W]})};_.propTypes={imageUrl:d().string,setAttributes:d().func.isRequired,imageSize:d().string,minWidth:d().number,minHeight:d().number,attributes:d().shape({imageId:d().number,imageWidth:d().number,imageHeight:d().number}),force:d().bool},_.defaultProps={imageUrl:"",imageSize:p,minWidth:0,minHeight:0,attributes:{},force:!1};const f=JSON.parse('{"UU":"multi-block-mayhem/swatch-cards-image"}');(0,a.registerBlockType)(f.UU,{icon:o,edit:function({attributes:e,setAttributes:i,context:t,style:a}){const[l,o]=(0,n.useState)(e.focalPoint||{x:.5,y:.5}),{imageUrl:c,columnSpan:h,columns:d,zoom:g,aspectRatio:p}=e,b=c?"multi-block-mayhem-editor":"multi-block-mayhem-placeholder",y=(0,s.useBlockProps)({className:b,style:{...a,"--mb-mayhem-swatch-cards-col-span":h,"--mb-mayhem-swatch-cards-aspect-ratio":p}});i({columns:t["mbm/swatch-cards-columns"],aspectRatio:t["mbm/swatch-cards-aspect-ratio"]});const f=(0,n.useCallback)(e=>{o(e),i({focalPoint:e})},[i]),v={backgroundImage:`url(${c})`,backgroundPosition:`${100*l.x}% ${100*l.y}%`,backgroundSize:"cover",transform:`scale(1.${String(g).padStart(2,"0")})`};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.InspectorControls,{children:(0,r.jsxs)(u.PanelBody,{title:(0,m.__)("Image Settings","multi-block-mayhem"),children:[(0,r.jsx)(u.RangeControl,{label:(0,m.__)("Column Span","multi-block-mayhem"),min:1,max:d,value:h,onChange:e=>i({columnSpan:e})}),c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.FocalPointPicker,{url:c,value:l,onDragStart:o,onDrag:f,onChange:f}),(0,r.jsx)(u.RangeControl,{label:(0,m.__)("Image Zoom","multi-block-mayhem"),min:0,max:50,value:g,onChange:e=>i({zoom:e})})]}),(0,r.jsx)(_,{imageUrl:c,setAttributes:i,imageSize:1===h?"medium":"large",minWidth:1===h?600:1024,minHeight:1===h?450:768,attributes:e})]})}),c?(0,r.jsx)("div",{...y,style:{...y.style},children:(0,r.jsx)("div",{style:{...v}})}):(0,r.jsx)("div",{...y,children:"Add Image"})]})}})}},t={};function a(e){var l=t[e];if(void 0!==l)return l.exports;var r=t[e]={exports:{}};return i[e](r,r.exports,a),r.exports}a.m=i,e=[],a.O=(i,t,l,r)=>{if(!t){var o=1/0;for(u=0;u<e.length;u++){for(var[t,l,r]=e[u],m=!0,n=0;n<t.length;n++)(!1&r||o>=r)&&Object.keys(a.O).every(e=>a.O[e](t[n]))?t.splice(n--,1):(m=!1,r<o&&(o=r));if(m){e.splice(u--,1);var s=l();void 0!==s&&(i=s)}}return i}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[t,l,r]},a.n=e=>{var i=e&&e.__esModule?()=>e.default:()=>e;return a.d(i,{a:i}),i},a.d=(e,i)=>{for(var t in i)a.o(i,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:i[t]})},a.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),(()=>{var e={459:0,251:0};a.O.j=i=>0===e[i];var i=(i,t)=>{var l,r,[o,m,n]=t,s=0;if(o.some(i=>0!==e[i])){for(l in m)a.o(m,l)&&(a.m[l]=m[l]);if(n)var u=n(a)}for(i&&i(t);s<o.length;s++)r=o[s],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},t=globalThis.webpackChunkmulti_block_mayhem=globalThis.webpackChunkmulti_block_mayhem||[];t.forEach(i.bind(null,0)),t.push=i.bind(null,t.push.bind(t))})();var l=a.O(void 0,[251],()=>a(979));l=a.O(l)})();