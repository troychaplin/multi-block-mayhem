(()=>{"use strict";var e,i={674:()=>{const e=window.wp.blocks,i=window.wp.primitives,s=window.ReactJSXRuntime,t=(0,s.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,s.jsx)(i.Path,{d:"m3 5c0-1.10457.89543-2 2-2h13.5c1.1046 0 2 .89543 2 2v13.5c0 1.1046-.8954 2-2 2h-13.5c-1.10457 0-2-.8954-2-2zm2-.5h6v6.5h-6.5v-6c0-.27614.22386-.5.5-.5zm-.5 8v6c0 .2761.22386.5.5.5h6v-6.5zm8 0v6.5h6c.2761 0 .5-.2239.5-.5v-6zm0-8v6.5h6.5v-6c0-.27614-.2239-.5-.5-.5z",fillRule:"evenodd",clipRule:"evenodd"})}),a=window.wp.i18n,n=window.wp.element,l=window.wp.blockEditor,m=window.wp.components,o=window.wp.data,r=({imageUrl:e,setAttributes:i,imageSize:t,minWidth:a,minHeight:r,attributes:d})=>{const[c,u]=(0,n.useState)(d?.mediaId||null),g=["large","medium","thumbnail"],h=(0,o.useSelect)((e=>{if(!c)return null;const i=e("core").getMedia(c);if(!i)return null;if(t&&i.media_details?.sizes?.[t])return{url:i.media_details.sizes[t].source_url,width:i.media_details.sizes[t].width,height:i.media_details.sizes[t].height,id:i.id};for(const e of g)if(i.media_details?.sizes?.[e])return{url:i.media_details.sizes[e].source_url,width:i.media_details.sizes[e].width,height:i.media_details.sizes[e].height,id:i.id};return{url:i.source_url,width:i.media_details?.width,height:i.media_details?.height,id:i.id}}),[c,t]);(0,n.useEffect)((()=>{h&&i({imageUrl:h.url,mediaId:h.id,imageDimensions:{width:h.width,height:h.height}})}),[h,i]);const p=!d?.imageDimensions||(!a||d.imageDimensions.width>=a)&&(!r||d.imageDimensions.height>=r),w=()=>{u(null),i({imageUrl:"",mediaId:null,imageDimensions:null})},v=e&&d?.imageDimensions&&!p;return(0,s.jsxs)("div",{className:"mbm-image-uploader",children:[(a||r)&&!e&&(0,s.jsxs)("p",{className:"mbm-size-notice",children:["Recommended image size:"," ",a&&`${a}px wide`,a&&r&&" × ",r&&`${r}px high`]}),v&&(0,s.jsxs)(m.Notice,{status:"warning",isDismissible:!1,className:"mbm-image-warning",children:["Current image size (",d.imageDimensions.width,"×",d.imageDimensions.height,"px) is smaller than recommended (",a||"any","×",r||"any","px)"]}),(0,s.jsx)(l.MediaUpload,{onSelect:e=>{if(!e||!e.id)return u(null),void i({imageUrl:"",mediaId:null,imageDimensions:null});u(e.id)},allowedTypes:["image"],value:c,render:({open:i})=>(0,s.jsxs)(m.ButtonGroup,{className:"mbm-image-controls",children:[(0,s.jsx)(m.Button,{onClick:i,variant:"primary",children:e?"Replace Image":"Select Image"}),e&&(0,s.jsx)(m.Button,{onClick:w,variant:"secondary",style:{marginLeft:"8px"},children:"Remove"})]})})]})},d=JSON.parse('{"UU":"multi-block-mayhem/image-collage-item"}');(0,e.registerBlockType)(d.UU,{icon:t,edit:function({attributes:e,setAttributes:i,context:t,style:o}){const[d,c]=(0,n.useState)(e.focalPoint||{x:.5,y:.5}),{imageUrl:u,columnSpan:g,columns:h,imageDimensions:p}=e,w=u?"mbm-editor":"mbm-placeholder",v=(0,l.useBlockProps)({className:w,style:{...o,"--mbm-image-collage-col-span":g}});i({columns:t["multi-block-mayhem/image-collage-columns"]});const b=(0,n.useCallback)((e=>{c(e),i({focalPoint:e})}),[i]),x={backgroundImage:`url(${u})`,backgroundPosition:`${100*d.x}% ${100*d.y}%`,backgroundSize:"cover"};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.InspectorControls,{children:(0,s.jsxs)(m.PanelBody,{title:(0,a.__)("Image Settings","multi-block-mayhem"),children:[(0,s.jsx)(m.RangeControl,{label:(0,a.__)("Column Span","multi-block-mayhem"),min:1,max:h,value:g,onChange:e=>i({columnSpan:e})}),u&&(0,s.jsx)(m.FocalPointPicker,{url:u,value:d,onDragStart:c,onDrag:b,onChange:b}),(0,s.jsx)(r,{imageUrl:u,setAttributes:i,imageSize:"large",minWidth:1024,minHeight:768,attributes:e})]})}),u?(0,s.jsx)("div",{...v,style:{...v.style,...x}}):(0,s.jsx)("div",{...v,children:"Add Image"})]})},save:function({attributes:e}){const{columns:i,gap:t,radius:a}=e,n=l.useBlockProps.save({style:{"--mbm-image-collage-cols":String(i),"--mbm-image-collage-gap":`${t}px`,"--mbm-image-collage-radius":`${a}px`}});return(0,s.jsx)("div",{...n,children:(0,s.jsx)(l.InnerBlocks.Content,{})})}})}},s={};function t(e){var a=s[e];if(void 0!==a)return a.exports;var n=s[e]={exports:{}};return i[e](n,n.exports,t),n.exports}t.m=i,e=[],t.O=(i,s,a,n)=>{if(!s){var l=1/0;for(d=0;d<e.length;d++){for(var[s,a,n]=e[d],m=!0,o=0;o<s.length;o++)(!1&n||l>=n)&&Object.keys(t.O).every((e=>t.O[e](s[o])))?s.splice(o--,1):(m=!1,n<l&&(l=n));if(m){e.splice(d--,1);var r=a();void 0!==r&&(i=r)}}return i}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,a,n]},t.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),(()=>{var e={634:0,46:0};t.O.j=i=>0===e[i];var i=(i,s)=>{var a,n,[l,m,o]=s,r=0;if(l.some((i=>0!==e[i]))){for(a in m)t.o(m,a)&&(t.m[a]=m[a]);if(o)var d=o(t)}for(i&&i(s);r<l.length;r++)n=l[r],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(d)},s=globalThis.webpackChunkmulti_block_mayhem=globalThis.webpackChunkmulti_block_mayhem||[];s.forEach(i.bind(null,0)),s.push=i.bind(null,s.push.bind(s))})();var a=t.O(void 0,[46],(()=>t(674)));a=t.O(a)})();