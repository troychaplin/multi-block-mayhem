(()=>{"use strict";var e,i={674:()=>{const e=window.wp.blocks,i=window.wp.primitives,l=window.ReactJSXRuntime,a=(0,l.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(i.Path,{d:"m3 5c0-1.10457.89543-2 2-2h13.5c1.1046 0 2 .89543 2 2v13.5c0 1.1046-.8954 2-2 2h-13.5c-1.10457 0-2-.8954-2-2zm2-.5h6v6.5h-6.5v-6c0-.27614.22386-.5.5-.5zm-.5 8v6c0 .2761.22386.5.5.5h6v-6.5zm8 0v6.5h6c.2761 0 .5-.2239.5-.5v-6zm0-8v6.5h6.5v-6c0-.27614-.2239-.5-.5-.5z",fillRule:"evenodd",clipRule:"evenodd"})}),r=window.wp.i18n,t=window.wp.element,n=window.wp.blockEditor,o=window.wp.components,s=window.wp.data,m=e=>{const{imageUrl:i,setAttributes:a,minWidth:r,minHeight:m,imageName:c,forceSize:u=!1,fallbackImageSize:d="medium"}=e,[g,h]=(0,t.useState)(null),[p,v]=(0,t.useState)(null),b=`${c}`,x=(0,s.useSelect)((e=>{if(!g)return"";const i=e("core").getMedia(g),l=i?.media_details?.sizes?.[b]?.source_url,a=i?.media_details?.sizes?.[d]?.source_url||i?.source_url,r=i?.source_url;return i?.media_details?.sizes?.[b]?.width===i?.width&&i?.media_details?.sizes?.[b]?.height===i?.height?r:l||a||r}),[g,b,d]),w=(0,t.useCallback)((e=>{if(!e||!e.url)return void a({imageUrl:"",imageId:""});let i=!0;if(r||m){if(i=(!r||e.width>=r)&&(!m||e.height>=m),!i){if(u)return void v("error");v("warning")}i&&v(null)}h(e.id),a({imageId:e.id,imageUrl:e.url})}),[a,r,m,u]);(0,t.useEffect)((()=>{x&&a({imageUrl:x})}),[x,a]);const f=(0,t.useCallback)((()=>{a({imageUrl:"",imageId:""}),h(null),v(null)}),[a]);return(0,l.jsx)(n.MediaUpload,{onSelect:w,allowedTypes:["image"],value:i,render:({open:e})=>(0,l.jsxs)(l.Fragment,{children:[(r||m)&&(0,l.jsxs)("p",{children:["The minimum recommended image size is"," ",r&&`${r}px wide`,r&&m&&" and ",m&&`${m}px high`,"."]}),(0,l.jsxs)(o.ButtonGroup,{children:[(0,l.jsx)(o.Button,{onClick:e,variant:"primary",children:i?"Replace Image":"Select Image"}),i&&(0,l.jsx)(o.Button,{onClick:f,variant:"secondary",style:{marginLeft:"12px"},children:"Remove Image"})]}),"warning"===p&&(0,l.jsxs)("p",{style:{color:"#bd4b00",fontSize:"0.825rem",marginTop:"1rem",fontWeight:"600"},children:["⚠️ Warning: The selected image should have a minimum size of ",r&&`${r}px wide`,r&&m&&" and ",m&&`${m}px high`," for best quality."]}),"error"===p&&(0,l.jsxs)("p",{style:{color:"#E91C24",fontSize:"0.825rem",marginTop:"1rem",fontWeight:"600"},children:["❌ Error: The image must be at least"," ",r&&`${r}px wide`,r&&m&&" and ",m&&`${m}px high`,". Please select a larger image."]})]})})},c=JSON.parse('{"UU":"multi-block-mayhem/image-collage-item"}');(0,e.registerBlockType)(c.UU,{icon:a,edit:function({attributes:e,setAttributes:i,context:a,style:s}){const[c,u]=(0,t.useState)(e.focalPoint||{x:.5,y:.5}),{imageUrl:d,columnSpan:g,columns:h}=e,p=d?"multi-block-mayhem-editor":"placeholder",v=(0,n.useBlockProps)({className:p,style:{...s,"--mbm-image-collage-col-span":g}});i({columns:a["multi-block-mayhem/image-collage-columns"]});const b=(0,t.useCallback)((e=>{u(e),i({focalPoint:e})}),[i]),x={backgroundImage:`url(${d})`,backgroundPosition:`${100*c.x}% ${100*c.y}%`,backgroundSize:"cover"};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.InspectorControls,{children:(0,l.jsxs)(o.PanelBody,{title:(0,r.__)("Image Settings","multi-block-mayhem"),children:[(0,l.jsx)(o.RangeControl,{label:(0,r.__)("Column Span","multi-block-mayhem"),min:1,max:h,value:g,onChange:e=>i({columnSpan:e})}),d&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.FocalPointPicker,{url:d,value:c,onDragStart:u,onDrag:b,onChange:b}),(0,l.jsx)("div",{style:x})]}),(0,l.jsx)(m,{imageUrl:d,setAttributes:i,useCallback:t.useCallback,imageName:"large",minWidth:"1024",forceSize:!0})]})}),d?(0,l.jsx)("div",{...v,style:{...v.style,...x}}):(0,l.jsx)("div",{...v,children:"Add Image"})]})},save:function({attributes:e}){const{columns:i,gap:a,radius:r}=e,t=n.useBlockProps.save({style:{"--mbm-image-collage-cols":String(i),"--mbm-image-collage-gap":`${a}px`,"--mbm-image-collage-radius":`${r}px`}});return(0,l.jsx)("div",{...t,children:(0,l.jsx)(n.InnerBlocks.Content,{})})}})}},l={};function a(e){var r=l[e];if(void 0!==r)return r.exports;var t=l[e]={exports:{}};return i[e](t,t.exports,a),t.exports}a.m=i,e=[],a.O=(i,l,r,t)=>{if(!l){var n=1/0;for(c=0;c<e.length;c++){for(var[l,r,t]=e[c],o=!0,s=0;s<l.length;s++)(!1&t||n>=t)&&Object.keys(a.O).every((e=>a.O[e](l[s])))?l.splice(s--,1):(o=!1,t<n&&(n=t));if(o){e.splice(c--,1);var m=r();void 0!==m&&(i=m)}}return i}t=t||0;for(var c=e.length;c>0&&e[c-1][2]>t;c--)e[c]=e[c-1];e[c]=[l,r,t]},a.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),(()=>{var e={634:0,46:0};a.O.j=i=>0===e[i];var i=(i,l)=>{var r,t,[n,o,s]=l,m=0;if(n.some((i=>0!==e[i]))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(s)var c=s(a)}for(i&&i(l);m<n.length;m++)t=n[m],a.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return a.O(c)},l=globalThis.webpackChunkmulti_block_mayhem=globalThis.webpackChunkmulti_block_mayhem||[];l.forEach(i.bind(null,0)),l.push=i.bind(null,l.push.bind(l))})();var r=a.O(void 0,[46],(()=>a(674)));r=a.O(r)})();