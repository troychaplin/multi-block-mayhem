(()=>{"use strict";var e,i={481:()=>{const e=window.wp.blocks,i=window.wp.primitives,t=window.ReactJSXRuntime,a=(0,t.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,t.jsx)(i.Path,{d:"m3 5c0-1.10457.89543-2 2-2h13.5c1.1046 0 2 .89543 2 2v13.5c0 1.1046-.8954 2-2 2h-13.5c-1.10457 0-2-.8954-2-2zm2-.5h6v6.5h-6.5v-6c0-.27614.22386-.5.5-.5zm-.5 8v6c0 .2761.22386.5.5.5h6v-6.5zm8 0v6.5h6c.2761 0 .5-.2239.5-.5v-6zm0-8v6.5h6.5v-6c0-.27614-.2239-.5-.5-.5z",fillRule:"evenodd",clipRule:"evenodd"})}),l=window.wp.i18n,o=window.wp.element,n=window.wp.blockEditor,m=window.wp.components,r=window.wp.data,s=({imageUrl:e,setAttributes:i,imageSize:a,minWidth:l,minHeight:s,attributes:d,force:c})=>{const[g,u]=(0,o.useState)(d?.imageId||null),h=(0,o.useMemo)((()=>["large","medium","thumbnail"]),[]),p=(0,o.useCallback)((e=>{if(!e)return null;if(a&&e.media_details?.sizes?.[a])return{url:e.media_details.sizes[a].source_url,width:e.media_details.sizes[a].width,height:e.media_details.sizes[a].height};for(const i of h)if(e.media_details?.sizes?.[i])return{url:e.media_details.sizes[i].source_url,width:e.media_details.sizes[i].width,height:e.media_details.sizes[i].height};return{url:e.source_url,width:e.media_details?.width,height:e.media_details?.height}}),[a,h]),w=(0,r.useSelect)((e=>{if(!g)return null;const i=e("core").getMedia(g);if(!i)return null;const t=p(i);return t?{...t,id:i.id}:null}),[g,p]);(0,o.useEffect)((()=>{w&&(e&&w.url!==e||i({imageUrl:w.url,imageId:w.id,imageWidth:w.width,imageHeight:w.height}))}),[w,i,e]);const x=!d?.imageWidth||(!l||d.imageWidth>=l)&&(!s||d.imageHeight>=s),b=()=>{u(null),i({imageUrl:"",imageId:null,imageWidth:null,imageHeight:null})},v=Boolean(e&&d?.imageWidth&&!x);return(0,o.useEffect)((()=>{e&&d?.imageId&&u(d.imageId)}),[e,d?.imageId]),(0,t.jsxs)("div",{className:"mbm-image-uploader",style:{display:"flex",gap:"16px",flexDirection:"column"},children:[v&&(0,t.jsxs)(m.Notice,{status:"warning",isDismissible:!1,className:"mbm-image-warning",children:["Current image size (",d.imageWidth,"px × ",d.imageHeight,"px) is smaller than recommended ",l&&s?`width of ${l}px and height of ${s}px`:l?`width of ${l}px`:s?`height of ${s}px`:""]}),(l||s)&&!e&&(0,t.jsxs)("div",{className:"mbm-size-notice",style:{backgroundColor:"#fef8ee",borderLeft:"4px solid #f0b849",padding:"8px 12px",color:"#1e1e1e"},children:[c?"Required":"Recommended"," image size:"," ",l&&`${l}px wide`,l&&s&&" × ",s&&`${s}px high`]}),(0,t.jsx)(n.MediaUpload,{onSelect:e=>{if(!e||!e.id)return u(null),void i({imageUrl:"",imageId:null,imageWidth:null,imageHeight:null});const t=p(e);if(!t)return;const a=(!l||t.width>=l)&&(!s||t.height>=s);c&&!a||(u(e.id),i({imageUrl:t.url,imageId:e.id,imageWidth:t.width,imageHeight:t.height}))},allowedTypes:["image"],value:g,render:({open:i})=>(0,t.jsxs)(m.ButtonGroup,{className:"mbm-image-controls",children:[(0,t.jsx)(m.Button,{onClick:i,variant:"primary",children:e?"Replace Image":"Select Image"}),e&&(0,t.jsx)(m.Button,{onClick:b,variant:"secondary",style:{marginLeft:"8px"},children:"Remove"})]})})]})},d=JSON.parse('{"UU":"multi-block-mayhem/image-collage-image"}');(0,e.registerBlockType)(d.UU,{icon:a,edit:function({attributes:e,setAttributes:i,context:a,style:r}){const[d,c]=(0,o.useState)(e.focalPoint||{x:.5,y:.5}),{imageUrl:g,columnSpan:u,columns:h,zoom:p,aspectRatio:w}=e,x=g?"multi-block-mayhem-editor":"multi-block-mayhem-placeholder",b=(0,n.useBlockProps)({className:x,style:{...r,"--mbm-image-collage-col-span":u,"--mbm-image-collage-aspect-ratio":w}});i({columns:a["multi-block-mayhem/image-collage-columns"],aspectRatio:a["multi-block-mayhem/image-collage-aspect-ratio"]});const v=(0,o.useCallback)((e=>{c(e),i({focalPoint:e})}),[i]),f={backgroundImage:`url(${g})`,backgroundPosition:`${100*d.x}% ${100*d.y}%`,backgroundSize:"cover",transform:`scale(1.${String(p).padStart(2,"0")})`};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.InspectorControls,{children:(0,t.jsxs)(m.PanelBody,{title:(0,l.__)("Image Settings","multi-block-mayhem"),children:[(0,t.jsx)(m.RangeControl,{label:(0,l.__)("Column Span","multi-block-mayhem"),min:1,max:h,value:u,onChange:e=>i({columnSpan:e})}),g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.FocalPointPicker,{url:g,value:d,onDragStart:c,onDrag:v,onChange:v}),(0,t.jsx)(m.RangeControl,{label:(0,l.__)("Image Zoom","multi-block-mayhem"),min:0,max:50,value:p,onChange:e=>i({zoom:e})})]}),(0,t.jsx)(s,{imageUrl:g,setAttributes:i,imageSize:1===u?"medium":"large",minWidth:1===u?600:1024,minHeight:1===u?450:768,attributes:e})]})}),g?(0,t.jsx)("div",{...b,style:{...b.style},children:(0,t.jsx)("div",{style:{...f}})}):(0,t.jsx)("div",{...b,children:"Add Image"})]})}})}},t={};function a(e){var l=t[e];if(void 0!==l)return l.exports;var o=t[e]={exports:{}};return i[e](o,o.exports,a),o.exports}a.m=i,e=[],a.O=(i,t,l,o)=>{if(!t){var n=1/0;for(d=0;d<e.length;d++){for(var[t,l,o]=e[d],m=!0,r=0;r<t.length;r++)(!1&o||n>=o)&&Object.keys(a.O).every((e=>a.O[e](t[r])))?t.splice(r--,1):(m=!1,o<n&&(n=o));if(m){e.splice(d--,1);var s=l();void 0!==s&&(i=s)}}return i}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[t,l,o]},a.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),(()=>{var e={84:0,324:0};a.O.j=i=>0===e[i];var i=(i,t)=>{var l,o,[n,m,r]=t,s=0;if(n.some((i=>0!==e[i]))){for(l in m)a.o(m,l)&&(a.m[l]=m[l]);if(r)var d=r(a)}for(i&&i(t);s<n.length;s++)o=n[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},t=globalThis.webpackChunkmulti_block_mayhem=globalThis.webpackChunkmulti_block_mayhem||[];t.forEach(i.bind(null,0)),t.push=i.bind(null,t.push.bind(t))})();var l=a.O(void 0,[324],(()=>a(481)));l=a.O(l)})();