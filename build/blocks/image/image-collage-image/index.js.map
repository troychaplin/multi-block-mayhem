{"version":3,"file":"blocks/image/image-collage-image/index.js","mappings":"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","sources":["webpack://multi-block-mayhem/./node_modules/@wordpress/icons/build-module/library/grid.js","webpack://multi-block-mayhem/./src/blocks/image/image-collage-image/edit.js","webpack://multi-block-mayhem/./src/blocks/image/image-collage-image/editor.scss?4106","webpack://multi-block-mayhem/./src/blocks/image/image-collage-image/index.js","webpack://multi-block-mayhem/./src/blocks/image/image-collage-image/style.scss?0b4e","webpack://multi-block-mayhem/./src/supports/CustomImageUploader.js","webpack://multi-block-mayhem/external window [\"wp\",\"blockEditor\"]","webpack://multi-block-mayhem/external window [\"wp\",\"blocks\"]","webpack://multi-block-mayhem/external window [\"wp\",\"components\"]","webpack://multi-block-mayhem/external window [\"wp\",\"data\"]","webpack://multi-block-mayhem/external window [\"wp\",\"element\"]","webpack://multi-block-mayhem/external window [\"wp\",\"i18n\"]","webpack://multi-block-mayhem/external window [\"wp\",\"primitives\"]","webpack://multi-block-mayhem/external window \"ReactJSXRuntime\"","webpack://multi-block-mayhem/webpack/bootstrap","webpack://multi-block-mayhem/webpack/runtime/chunk loaded","webpack://multi-block-mayhem/webpack/runtime/compat get default export","webpack://multi-block-mayhem/webpack/runtime/define property getters","webpack://multi-block-mayhem/webpack/runtime/hasOwnProperty shorthand","webpack://multi-block-mayhem/webpack/runtime/make namespace object","webpack://multi-block-mayhem/webpack/runtime/jsonp chunk loading","webpack://multi-block-mayhem/webpack/before-startup","webpack://multi-block-mayhem/webpack/startup","webpack://multi-block-mayhem/webpack/after-startup"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst grid = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"m3 5c0-1.10457.89543-2 2-2h13.5c1.1046 0 2 .89543 2 2v13.5c0 1.1046-.8954 2-2 2h-13.5c-1.10457 0-2-.8954-2-2zm2-.5h6v6.5h-6.5v-6c0-.27614.22386-.5.5-.5zm-.5 8v6c0 .2761.22386.5.5.5h6v-6.5zm8 0v6.5h6c.2761 0 .5-.2239.5-.5v-6zm0-8v6.5h6.5v-6c0-.27614-.2239-.5-.5-.5z\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\"\n  })\n});\nexport default grid;\n//# sourceMappingURL=grid.js.map","import { __ } from '@wordpress/i18n';\nimport { useState, useCallback } from '@wordpress/element';\nimport { useBlockProps, InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody, RangeControl, FocalPointPicker } from '@wordpress/components';\nimport { CustomImageUploader } from '../../../supports/CustomImageUploader';\nimport './editor.scss';\n\nexport default function Edit({ attributes, setAttributes, context, style }) {\n\t// Set state for focal point picker\n\tconst [focalPoint, setFocalPoint] = useState(\n\t\tattributes.focalPoint || {\n\t\t\tx: 0.5,\n\t\t\ty: 0.5,\n\t\t}\n\t);\n\n\tconst { imageUrl, columnSpan, columns, zoom, aspectRatio } = attributes;\n\n\tconst blockClasses = imageUrl ? 'multi-block-mayhem-editor' : 'multi-block-mayhem-placeholder';\n\n\tconst blockProps = useBlockProps({\n\t\tclassName: blockClasses,\n\t\tstyle: {\n\t\t\t...style,\n\t\t\t'--mbm-image-collage-col-span': columnSpan,\n\t\t\t'--mbm-image-collage-aspect-ratio': aspectRatio,\n\t\t},\n\t});\n\n\t// Get attributes from context of parent block\n\tsetAttributes({\n\t\tcolumns: context['multi-block-mayhem/image-collage-columns'],\n\t\taspectRatio: context['multi-block-mayhem/image-collage-aspect-ratio'],\n\t});\n\n\tconst onFocalPointChange = useCallback(\n\t\tnewFocalPoint => {\n\t\t\tsetFocalPoint(newFocalPoint);\n\t\t\tsetAttributes({ focalPoint: newFocalPoint });\n\t\t},\n\t\t[setAttributes]\n\t);\n\n\t// Set styles based on Focal Point Picker value\n\tconst bgImageStyles = {\n\t\tbackgroundImage: `url(${imageUrl})`,\n\t\tbackgroundPosition: `${focalPoint.x * 100}% ${focalPoint.y * 100}%`,\n\t\tbackgroundSize: 'cover',\n\t\ttransform: `scale(1.${String(zoom).padStart(2, '0')})`,\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={__('Image Settings', 'multi-block-mayhem')}>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tlabel={__('Column Span', 'multi-block-mayhem')}\n\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\tmax={columns}\n\t\t\t\t\t\tvalue={columnSpan}\n\t\t\t\t\t\tonChange={value => setAttributes({ columnSpan: value })}\n\t\t\t\t\t/>\n\t\t\t\t\t{imageUrl && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<FocalPointPicker\n\t\t\t\t\t\t\t\turl={imageUrl}\n\t\t\t\t\t\t\t\tvalue={focalPoint}\n\t\t\t\t\t\t\t\tonDragStart={setFocalPoint}\n\t\t\t\t\t\t\t\tonDrag={onFocalPointChange}\n\t\t\t\t\t\t\t\tonChange={onFocalPointChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\tlabel={__('Image Zoom', 'multi-block-mayhem')}\n\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\tmax={50}\n\t\t\t\t\t\t\t\tvalue={zoom}\n\t\t\t\t\t\t\t\tonChange={value => setAttributes({ zoom: value })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t<CustomImageUploader\n\t\t\t\t\t\timageUrl={imageUrl}\n\t\t\t\t\t\tsetAttributes={setAttributes}\n\t\t\t\t\t\timageSize={columnSpan === 1 ? 'medium' : 'large'}\n\t\t\t\t\t\t// minWidth={columnSpan === 1 ? 600 : 1024}\n\t\t\t\t\t\t// minHeight={columnSpan === 1 ? 450 : 768}\n\t\t\t\t\t\tattributes={attributes}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\n\t\t\t{imageUrl ? (\n\t\t\t\t<div\n\t\t\t\t\t{...blockProps}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\t...blockProps.style,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t...bgImageStyles,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div {...blockProps}>Add Image</div>\n\t\t\t)}\n\t\t</>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport {};","import { registerBlockType } from '@wordpress/blocks';\nimport { grid } from '@wordpress/icons';\nimport './style.scss';\nimport Edit from './edit';\nimport metadata from './block.json';\n\nregisterBlockType(metadata.name, {\n\ticon: grid,\n\tedit: Edit,\n});\n","// extracted by mini-css-extract-plugin\nexport {};","import { useState, useEffect, useCallback, useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { MediaUpload } from '@wordpress/block-editor';\nimport { ButtonGroup, Button, Notice } from '@wordpress/components';\n\nexport const CustomImageUploader = ({\n\timageUrl,\n\tsetAttributes,\n\timageSize,\n\tminWidth,\n\tminHeight,\n\tattributes,\n\tforce,\n}) => {\n\t// Initialize imageId from attributes if it exists\n\tconst [imageId, setImageUrl] = useState(attributes?.imageId || null);\n\n\t// Define fallback sizes in order of preference\n\tconst fallbackSizes = useMemo(() => ['large', 'medium', 'thumbnail'], []);\n\n\t// Helper function to get image details from media object\n\tconst getImageDetails = useCallback(\n\t\tmedia => {\n\t\t\tif (!media) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Try to get specified size first\n\t\t\tif (imageSize && media.media_details?.sizes?.[imageSize]) {\n\t\t\t\treturn {\n\t\t\t\t\turl: media.media_details.sizes[imageSize].source_url,\n\t\t\t\t\twidth: media.media_details.sizes[imageSize].width,\n\t\t\t\t\theight: media.media_details.sizes[imageSize].height,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Try fallback sizes in order\n\t\t\tfor (const size of fallbackSizes) {\n\t\t\t\tif (media.media_details?.sizes?.[size]) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\turl: media.media_details.sizes[size].source_url,\n\t\t\t\t\t\twidth: media.media_details.sizes[size].width,\n\t\t\t\t\t\theight: media.media_details.sizes[size].height,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If no sizes available, use original\n\t\t\treturn {\n\t\t\t\turl: media.source_url,\n\t\t\t\twidth: media.media_details?.width,\n\t\t\t\theight: media.media_details?.height,\n\t\t\t};\n\t\t},\n\t\t[imageSize, fallbackSizes]\n\t);\n\n\t// Get image details including available sizes\n\tconst imageDetails = useSelect(\n\t\tselect => {\n\t\t\tif (!imageId) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst media = select('core').getMedia(imageId);\n\t\t\tif (!media) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst details = getImageDetails(media);\n\t\t\treturn details ? { ...details, id: media.id } : null;\n\t\t},\n\t\t[imageId, getImageDetails]\n\t);\n\n\t// Update image details when they change\n\tuseEffect(() => {\n\t\tif (imageDetails) {\n\t\t\t// Only update if the URLs match to prevent cross-contamination\n\t\t\tif (!imageUrl || imageDetails.url === imageUrl) {\n\t\t\t\tsetAttributes({\n\t\t\t\t\timageUrl: imageDetails.url,\n\t\t\t\t\timageId: imageDetails.id,\n\t\t\t\t\timageWidth: imageDetails.width,\n\t\t\t\t\timageHeight: imageDetails.height,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, [imageDetails, setAttributes, imageUrl]);\n\n\t// Check if image meets minimum dimensions\n\tconst hasMinimumDimensions = !attributes?.imageWidth\n\t\t? true\n\t\t: (!minWidth || attributes.imageWidth >= minWidth) &&\n\t\t\t(!minHeight || attributes.imageHeight >= minHeight);\n\n\t// Get recommendation message based on which dimensions are specified\n\tconst getRecommendationMessage = () => {\n\t\tif (minWidth && minHeight) {\n\t\t\treturn `width of ${minWidth}px and height of ${minHeight}px`;\n\t\t}\n\t\tif (minWidth) {\n\t\t\treturn `width of ${minWidth}px`;\n\t\t}\n\t\tif (minHeight) {\n\t\t\treturn `height of ${minHeight}px`;\n\t\t}\n\t\treturn '';\n\t};\n\n\t// Handle image selection\n\tconst onSelectImage = media => {\n\t\tif (!media || !media.id) {\n\t\t\tsetImageUrl(null);\n\t\t\tsetAttributes({\n\t\t\t\timageUrl: '',\n\t\t\t\timageId: null,\n\t\t\t\timageWidth: null,\n\t\t\t\timageHeight: null,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\t// Get image details immediately\n\t\tconst details = getImageDetails(media);\n\t\tif (!details) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if image meets minimum dimensions when force is true\n\t\tconst meetsMinDimensions =\n\t\t\t(!minWidth || details.width >= minWidth) && (!minHeight || details.height >= minHeight);\n\n\t\tif (force && !meetsMinDimensions) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Update everything at once\n\t\tsetImageUrl(media.id);\n\t\tsetAttributes({\n\t\t\timageUrl: details.url,\n\t\t\timageId: media.id,\n\t\t\timageWidth: details.width,\n\t\t\timageHeight: details.height,\n\t\t});\n\t};\n\n\t// Handle image removal\n\tconst removeImage = () => {\n\t\tsetImageUrl(null);\n\t\tsetAttributes({\n\t\t\timageUrl: '',\n\t\t\timageId: null,\n\t\t\timageWidth: null,\n\t\t\timageHeight: null,\n\t\t});\n\t};\n\n\t// Show warning if image exists and dimensions don't meet requirements\n\tconst showWarning = Boolean(imageUrl && attributes?.imageWidth && !hasMinimumDimensions);\n\n\t// Initialize imageId from attributes when component mounts or imageUrl changes\n\tuseEffect(() => {\n\t\tif (imageUrl && attributes?.imageId) {\n\t\t\tsetImageUrl(attributes.imageId);\n\t\t}\n\t}, [imageUrl, attributes?.imageId]);\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"mbm-image-uploader\"\n\t\t\tstyle={{\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tgap: '16px',\n\t\t\t\tflexDirection: 'column',\n\t\t\t}}\n\t\t>\n\t\t\t{/* Warning Notice */}\n\t\t\t{showWarning && (\n\t\t\t\t<Notice status=\"warning\" isDismissible={false} className=\"mbm-image-warning\">\n\t\t\t\t\tCurrent image size ({attributes.imageWidth}px × {attributes.imageHeight}px) is\n\t\t\t\t\tsmaller than recommended {getRecommendationMessage()}\n\t\t\t\t</Notice>\n\t\t\t)}\n\n\t\t\t{/* Size Requirements Notice */}\n\t\t\t{(minWidth || minHeight) && !imageUrl && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"mbm-size-notice\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: '#fef8ee',\n\t\t\t\t\t\tborderLeft: '4px solid #f0b849',\n\t\t\t\t\t\tpadding: '8px 12px',\n\t\t\t\t\t\tcolor: '#1e1e1e',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{force ? 'Required' : 'Recommended'} image size:{' '}\n\t\t\t\t\t{minWidth && `${minWidth}px wide`}\n\t\t\t\t\t{minWidth && minHeight && ' × '}\n\t\t\t\t\t{minHeight && `${minHeight}px high`}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Upload Controls */}\n\t\t\t<MediaUpload\n\t\t\t\tonSelect={onSelectImage}\n\t\t\t\tallowedTypes={['image']}\n\t\t\t\tvalue={imageId}\n\t\t\t\trender={({ open }) => (\n\t\t\t\t\t<ButtonGroup className=\"mbm-image-controls\">\n\t\t\t\t\t\t<Button onClick={open} variant=\"primary\">\n\t\t\t\t\t\t\t{imageUrl ? 'Replace Image' : 'Select Image'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{imageUrl && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={removeImage}\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\tstyle={{ marginLeft: '8px' }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t)}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"primitives\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"blocks/image/image-collage-image/index\": 0,\n\t\"blocks/image/image-collage-image/style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkmulti_block_mayhem\"] = globalThis[\"webpackChunkmulti_block_mayhem\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"blocks/image/image-collage-image/style-index\"], () => (__webpack_require__(\"./src/blocks/image/image-collage-image/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["__","useState","useCallback","useBlockProps","InspectorControls","PanelBody","RangeControl","FocalPointPicker","CustomImageUploader","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Edit","attributes","setAttributes","context","style","focalPoint","setFocalPoint","x","y","imageUrl","columnSpan","columns","zoom","aspectRatio","blockClasses","blockProps","className","onFocalPointChange","newFocalPoint","bgImageStyles","backgroundImage","backgroundPosition","backgroundSize","transform","String","padStart","children","title","label","min","max","value","onChange","url","onDragStart","onDrag","imageSize","registerBlockType","grid","metadata","name","icon","edit","useEffect","useMemo","useSelect","MediaUpload","ButtonGroup","Button","Notice","minWidth","minHeight","force","imageId","setImageUrl","fallbackSizes","getImageDetails","media","media_details","sizes","source_url","width","height","size","imageDetails","select","getMedia","details","id","imageWidth","imageHeight","hasMinimumDimensions","getRecommendationMessage","onSelectImage","meetsMinDimensions","removeImage","showWarning","Boolean","display","gap","flexDirection","status","isDismissible","backgroundColor","borderLeft","padding","color","onSelect","allowedTypes","render","open","onClick","variant","marginLeft"],"sourceRoot":""}